{"ast":null,"code":"import { assign, addTelemetryDebug, elapsed, getPathName, includes, isValidUrl, toServerDuration } from '@datadog/browser-core';\nexport var FAKE_INITIAL_DOCUMENT = 'initial_document';\nvar RESOURCE_TYPES = [[\"document\" /* DOCUMENT */, function (initiatorType) {\n  return FAKE_INITIAL_DOCUMENT === initiatorType;\n}], [\"xhr\" /* XHR */, function (initiatorType) {\n  return 'xmlhttprequest' === initiatorType;\n}], [\"fetch\" /* FETCH */, function (initiatorType) {\n  return 'fetch' === initiatorType;\n}], [\"beacon\" /* BEACON */, function (initiatorType) {\n  return 'beacon' === initiatorType;\n}], [\"css\" /* CSS */, function (_, path) {\n  return /\\.css$/i.test(path);\n}], [\"js\" /* JS */, function (_, path) {\n  return /\\.js$/i.test(path);\n}], [\"image\" /* IMAGE */, function (initiatorType, path) {\n  return includes(['image', 'img', 'icon'], initiatorType) || /\\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(path) !== null;\n}], [\"font\" /* FONT */, function (_, path) {\n  return /\\.(woff|eot|woff2|ttf)$/i.exec(path) !== null;\n}], [\"media\" /* MEDIA */, function (initiatorType, path) {\n  return includes(['audio', 'video'], initiatorType) || /\\.(mp3|mp4)$/i.exec(path) !== null;\n}]];\nexport function computeResourceKind(timing) {\n  var url = timing.name;\n  if (!isValidUrl(url)) {\n    addTelemetryDebug(\"Failed to construct URL for \\\"\".concat(timing.name, \"\\\"\"));\n    return \"other\" /* OTHER */;\n  }\n\n  var path = getPathName(url);\n  for (var _i = 0, RESOURCE_TYPES_1 = RESOURCE_TYPES; _i < RESOURCE_TYPES_1.length; _i++) {\n    var _a = RESOURCE_TYPES_1[_i],\n      type = _a[0],\n      isType = _a[1];\n    if (isType(timing.initiatorType, path)) {\n      return type;\n    }\n  }\n  return \"other\" /* OTHER */;\n}\n\nfunction areInOrder() {\n  var numbers = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    numbers[_i] = arguments[_i];\n  }\n  for (var i = 1; i < numbers.length; i += 1) {\n    if (numbers[i - 1] > numbers[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nexport function isRequestKind(timing) {\n  return timing.initiatorType === 'xmlhttprequest' || timing.initiatorType === 'fetch';\n}\nexport function computePerformanceResourceDuration(entry) {\n  var duration = entry.duration,\n    startTime = entry.startTime,\n    responseEnd = entry.responseEnd;\n  // Safari duration is always 0 on timings blocked by cross origin policies.\n  if (duration === 0 && startTime < responseEnd) {\n    return toServerDuration(elapsed(startTime, responseEnd));\n  }\n  return toServerDuration(duration);\n}\nexport function computePerformanceResourceDetails(entry) {\n  var validEntry = toValidEntry(entry);\n  if (!validEntry) {\n    return undefined;\n  }\n  var startTime = validEntry.startTime,\n    fetchStart = validEntry.fetchStart,\n    redirectStart = validEntry.redirectStart,\n    redirectEnd = validEntry.redirectEnd,\n    domainLookupStart = validEntry.domainLookupStart,\n    domainLookupEnd = validEntry.domainLookupEnd,\n    connectStart = validEntry.connectStart,\n    secureConnectionStart = validEntry.secureConnectionStart,\n    connectEnd = validEntry.connectEnd,\n    requestStart = validEntry.requestStart,\n    responseStart = validEntry.responseStart,\n    responseEnd = validEntry.responseEnd;\n  var details = {\n    download: formatTiming(startTime, responseStart, responseEnd),\n    first_byte: formatTiming(startTime, requestStart, responseStart)\n  };\n  // Make sure a connection occurred\n  if (connectEnd !== fetchStart) {\n    details.connect = formatTiming(startTime, connectStart, connectEnd);\n    // Make sure a secure connection occurred\n    if (areInOrder(connectStart, secureConnectionStart, connectEnd)) {\n      details.ssl = formatTiming(startTime, secureConnectionStart, connectEnd);\n    }\n  }\n  // Make sure a domain lookup occurred\n  if (domainLookupEnd !== fetchStart) {\n    details.dns = formatTiming(startTime, domainLookupStart, domainLookupEnd);\n  }\n  if (hasRedirection(entry)) {\n    details.redirect = formatTiming(startTime, redirectStart, redirectEnd);\n  }\n  return details;\n}\nexport function toValidEntry(entry) {\n  // Ensure timings are in the right order. On top of filtering out potential invalid\n  // RumPerformanceResourceTiming, it will ignore entries from requests where timings cannot be\n  // collected, for example cross origin requests without a \"Timing-Allow-Origin\" header allowing\n  // it.\n  if (!areInOrder(entry.startTime, entry.fetchStart, entry.domainLookupStart, entry.domainLookupEnd, entry.connectStart, entry.connectEnd, entry.requestStart, entry.responseStart, entry.responseEnd)) {\n    return undefined;\n  }\n  if (!hasRedirection(entry)) {\n    return entry;\n  }\n  var redirectStart = entry.redirectStart,\n    redirectEnd = entry.redirectEnd;\n  // Firefox doesn't provide redirect timings on cross origin requests.\n  // Provide a default for those.\n  if (redirectStart < entry.startTime) {\n    redirectStart = entry.startTime;\n  }\n  if (redirectEnd < entry.startTime) {\n    redirectEnd = entry.fetchStart;\n  }\n  // Make sure redirect timings are in order\n  if (!areInOrder(entry.startTime, redirectStart, redirectEnd, entry.fetchStart)) {\n    return undefined;\n  }\n  return assign({}, entry, {\n    redirectEnd: redirectEnd,\n    redirectStart: redirectStart\n  });\n}\nfunction hasRedirection(entry) {\n  // The only time fetchStart is different than startTime is if a redirection occurred.\n  return entry.fetchStart !== entry.startTime;\n}\nfunction formatTiming(origin, start, end) {\n  return {\n    duration: toServerDuration(elapsed(start, end)),\n    start: toServerDuration(elapsed(origin, start))\n  };\n}\nexport function computeSize(entry) {\n  // Make sure a request actually occurred\n  if (entry.startTime < entry.responseStart) {\n    return entry.decodedBodySize;\n  }\n  return undefined;\n}\nexport function isAllowedRequestUrl(configuration, url) {\n  return url && !configuration.isIntakeUrl(url);\n}","map":{"version":3,"names":["assign","addTelemetryDebug","elapsed","getPathName","includes","isValidUrl","toServerDuration","FAKE_INITIAL_DOCUMENT","RESOURCE_TYPES","initiatorType","_","path","test","exec","computeResourceKind","timing","url","name","concat","_i","RESOURCE_TYPES_1","length","_a","type","isType","areInOrder","numbers","arguments","i","isRequestKind","computePerformanceResourceDuration","entry","duration","startTime","responseEnd","computePerformanceResourceDetails","validEntry","toValidEntry","undefined","fetchStart","redirectStart","redirectEnd","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","details","download","formatTiming","first_byte","connect","ssl","dns","hasRedirection","redirect","origin","start","end","computeSize","decodedBodySize","isAllowedRequestUrl","configuration","isIntakeUrl"],"sources":["/Users/sean.dever/Desktop/PersonalRepos/apm-enablement-sessions/rum_and_trace_correlation/react-app/node_modules/@datadog/browser-rum-core/src/domain/rumEventsCollection/resource/resourceUtils.ts"],"sourcesContent":["import type { RelativeTime, ServerDuration } from '@datadog/browser-core'\nimport {\n  assign,\n  addTelemetryDebug,\n  elapsed,\n  getPathName,\n  includes,\n  isValidUrl,\n  ResourceType,\n  toServerDuration,\n} from '@datadog/browser-core'\n\nimport type { RumPerformanceResourceTiming } from '../../../browser/performanceCollection'\n\nimport type { PerformanceResourceDetailsElement } from '../../../rawRumEvent.types'\nimport type { RumConfiguration } from '../../configuration'\n\nexport interface PerformanceResourceDetails {\n  redirect?: PerformanceResourceDetailsElement\n  dns?: PerformanceResourceDetailsElement\n  connect?: PerformanceResourceDetailsElement\n  ssl?: PerformanceResourceDetailsElement\n  first_byte: PerformanceResourceDetailsElement\n  download: PerformanceResourceDetailsElement\n}\n\nexport const FAKE_INITIAL_DOCUMENT = 'initial_document'\n\nconst RESOURCE_TYPES: Array<[ResourceType, (initiatorType: string, path: string) => boolean]> = [\n  [ResourceType.DOCUMENT, (initiatorType: string) => FAKE_INITIAL_DOCUMENT === initiatorType],\n  [ResourceType.XHR, (initiatorType: string) => 'xmlhttprequest' === initiatorType],\n  [ResourceType.FETCH, (initiatorType: string) => 'fetch' === initiatorType],\n  [ResourceType.BEACON, (initiatorType: string) => 'beacon' === initiatorType],\n  [ResourceType.CSS, (_: string, path: string) => /\\.css$/i.test(path)],\n  [ResourceType.JS, (_: string, path: string) => /\\.js$/i.test(path)],\n  [\n    ResourceType.IMAGE,\n    (initiatorType: string, path: string) =>\n      includes(['image', 'img', 'icon'], initiatorType) || /\\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(path) !== null,\n  ],\n  [ResourceType.FONT, (_: string, path: string) => /\\.(woff|eot|woff2|ttf)$/i.exec(path) !== null],\n  [\n    ResourceType.MEDIA,\n    (initiatorType: string, path: string) =>\n      includes(['audio', 'video'], initiatorType) || /\\.(mp3|mp4)$/i.exec(path) !== null,\n  ],\n]\n\nexport function computeResourceKind(timing: RumPerformanceResourceTiming) {\n  const url = timing.name\n  if (!isValidUrl(url)) {\n    addTelemetryDebug(`Failed to construct URL for \"${timing.name}\"`)\n    return ResourceType.OTHER\n  }\n  const path = getPathName(url)\n  for (const [type, isType] of RESOURCE_TYPES) {\n    if (isType(timing.initiatorType, path)) {\n      return type\n    }\n  }\n  return ResourceType.OTHER\n}\n\nfunction areInOrder(...numbers: number[]) {\n  for (let i = 1; i < numbers.length; i += 1) {\n    if (numbers[i - 1] > numbers[i]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport function isRequestKind(timing: RumPerformanceResourceTiming) {\n  return timing.initiatorType === 'xmlhttprequest' || timing.initiatorType === 'fetch'\n}\n\nexport function computePerformanceResourceDuration(entry: RumPerformanceResourceTiming): ServerDuration {\n  const { duration, startTime, responseEnd } = entry\n\n  // Safari duration is always 0 on timings blocked by cross origin policies.\n  if (duration === 0 && startTime < responseEnd) {\n    return toServerDuration(elapsed(startTime, responseEnd))\n  }\n\n  return toServerDuration(duration)\n}\n\nexport function computePerformanceResourceDetails(\n  entry: RumPerformanceResourceTiming\n): PerformanceResourceDetails | undefined {\n  const validEntry = toValidEntry(entry)\n\n  if (!validEntry) {\n    return undefined\n  }\n  const {\n    startTime,\n    fetchStart,\n    redirectStart,\n    redirectEnd,\n    domainLookupStart,\n    domainLookupEnd,\n    connectStart,\n    secureConnectionStart,\n    connectEnd,\n    requestStart,\n    responseStart,\n    responseEnd,\n  } = validEntry\n\n  const details: PerformanceResourceDetails = {\n    download: formatTiming(startTime, responseStart, responseEnd),\n    first_byte: formatTiming(startTime, requestStart, responseStart),\n  }\n\n  // Make sure a connection occurred\n  if (connectEnd !== fetchStart) {\n    details.connect = formatTiming(startTime, connectStart, connectEnd)\n\n    // Make sure a secure connection occurred\n    if (areInOrder(connectStart, secureConnectionStart, connectEnd)) {\n      details.ssl = formatTiming(startTime, secureConnectionStart, connectEnd)\n    }\n  }\n\n  // Make sure a domain lookup occurred\n  if (domainLookupEnd !== fetchStart) {\n    details.dns = formatTiming(startTime, domainLookupStart, domainLookupEnd)\n  }\n\n  if (hasRedirection(entry)) {\n    details.redirect = formatTiming(startTime, redirectStart, redirectEnd)\n  }\n\n  return details\n}\n\nexport function toValidEntry(entry: RumPerformanceResourceTiming) {\n  // Ensure timings are in the right order. On top of filtering out potential invalid\n  // RumPerformanceResourceTiming, it will ignore entries from requests where timings cannot be\n  // collected, for example cross origin requests without a \"Timing-Allow-Origin\" header allowing\n  // it.\n  if (\n    !areInOrder(\n      entry.startTime,\n      entry.fetchStart,\n      entry.domainLookupStart,\n      entry.domainLookupEnd,\n      entry.connectStart,\n      entry.connectEnd,\n      entry.requestStart,\n      entry.responseStart,\n      entry.responseEnd\n    )\n  ) {\n    return undefined\n  }\n\n  if (!hasRedirection(entry)) {\n    return entry\n  }\n\n  let { redirectStart, redirectEnd } = entry\n  // Firefox doesn't provide redirect timings on cross origin requests.\n  // Provide a default for those.\n  if (redirectStart < entry.startTime) {\n    redirectStart = entry.startTime\n  }\n  if (redirectEnd < entry.startTime) {\n    redirectEnd = entry.fetchStart\n  }\n\n  // Make sure redirect timings are in order\n  if (!areInOrder(entry.startTime, redirectStart, redirectEnd, entry.fetchStart)) {\n    return undefined\n  }\n\n  return assign({}, entry, {\n    redirectEnd,\n    redirectStart,\n  })\n}\n\nfunction hasRedirection(entry: RumPerformanceResourceTiming) {\n  // The only time fetchStart is different than startTime is if a redirection occurred.\n  return entry.fetchStart !== entry.startTime\n}\n\nfunction formatTiming(origin: RelativeTime, start: RelativeTime, end: RelativeTime) {\n  return {\n    duration: toServerDuration(elapsed(start, end)),\n    start: toServerDuration(elapsed(origin, start)),\n  }\n}\n\nexport function computeSize(entry: RumPerformanceResourceTiming) {\n  // Make sure a request actually occurred\n  if (entry.startTime < entry.responseStart) {\n    return entry.decodedBodySize\n  }\n  return undefined\n}\n\nexport function isAllowedRequestUrl(configuration: RumConfiguration, url: string) {\n  return url && !configuration.isIntakeUrl(url)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}