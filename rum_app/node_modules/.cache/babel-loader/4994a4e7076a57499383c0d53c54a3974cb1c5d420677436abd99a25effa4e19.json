{"ast":null,"code":"import { assign, timeStampNow } from '@datadog/browser-core';\nimport { RecordType } from '../../types';\nexport function isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nexport function forEach(list, callback) {\n  Array.prototype.forEach.call(list, callback);\n}\nexport function assembleIncrementalSnapshot(source, data) {\n  return {\n    data: assign({\n      source: source\n    }, data),\n    type: RecordType.IncrementalSnapshot,\n    timestamp: timeStampNow()\n  };\n}\nexport function getPathToNestedCSSRule(rule) {\n  var path = [];\n  var currentRule = rule;\n  while (currentRule.parentRule) {\n    var rules_1 = Array.from(currentRule.parentRule.cssRules);\n    var index_1 = rules_1.indexOf(currentRule);\n    path.unshift(index_1);\n    currentRule = currentRule.parentRule;\n  }\n  // A rule may not be attached to a stylesheet\n  if (!currentRule.parentStyleSheet) {\n    return;\n  }\n  var rules = Array.from(currentRule.parentStyleSheet.cssRules);\n  var index = rules.indexOf(currentRule);\n  path.unshift(index);\n  return path;\n}","map":{"version":3,"names":["assign","timeStampNow","RecordType","isTouchEvent","event","Boolean","changedTouches","forEach","list","callback","Array","prototype","call","assembleIncrementalSnapshot","source","data","type","IncrementalSnapshot","timestamp","getPathToNestedCSSRule","rule","path","currentRule","parentRule","rules_1","from","cssRules","index_1","indexOf","unshift","parentStyleSheet","rules","index"],"sources":["/Users/sean.dever/Desktop/PersonalRepos/rum_and_trace_correlation/rum_app/node_modules/@datadog/browser-rum/src/domain/record/utils.ts"],"sourcesContent":["import { assign, timeStampNow } from '@datadog/browser-core'\nimport type { BrowserIncrementalData, BrowserIncrementalSnapshotRecord } from '../../types'\nimport { RecordType } from '../../types'\n\nexport function isTouchEvent(event: MouseEvent | TouchEvent): event is TouchEvent {\n  return Boolean((event as TouchEvent).changedTouches)\n}\n\nexport function forEach<List extends { [index: number]: any }>(\n  list: List,\n  callback: (value: List[number], index: number, parent: List) => void\n) {\n  Array.prototype.forEach.call(list, callback as any)\n}\n\nexport function assembleIncrementalSnapshot<Data extends BrowserIncrementalData>(\n  source: Data['source'],\n  data: Omit<Data, 'source'>\n): BrowserIncrementalSnapshotRecord {\n  return {\n    data: assign(\n      {\n        source,\n      },\n      data\n    ) as Data,\n    type: RecordType.IncrementalSnapshot,\n    timestamp: timeStampNow(),\n  }\n}\n\nexport function getPathToNestedCSSRule(rule: CSSRule): number[] | undefined {\n  const path: number[] = []\n  let currentRule = rule\n  while (currentRule.parentRule) {\n    const rules = Array.from((currentRule.parentRule as CSSGroupingRule).cssRules)\n    const index = rules.indexOf(currentRule)\n    path.unshift(index)\n    currentRule = currentRule.parentRule\n  }\n  // A rule may not be attached to a stylesheet\n  if (!currentRule.parentStyleSheet) {\n    return\n  }\n\n  const rules = Array.from(currentRule.parentStyleSheet.cssRules)\n  const index = rules.indexOf(currentRule)\n  path.unshift(index)\n\n  return path\n}\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,YAAY,QAAQ,uBAAuB;AAE5D,SAASC,UAAU,QAAQ,aAAa;AAExC,OAAM,SAAUC,YAAYA,CAACC,KAA8B;EACzD,OAAOC,OAAO,CAAED,KAAoB,CAACE,cAAc,CAAC;AACtD;AAEA,OAAM,SAAUC,OAAOA,CACrBC,IAAU,EACVC,QAAoE;EAEpEC,KAAK,CAACC,SAAS,CAACJ,OAAO,CAACK,IAAI,CAACJ,IAAI,EAAEC,QAAe,CAAC;AACrD;AAEA,OAAM,SAAUI,2BAA2BA,CACzCC,MAAsB,EACtBC,IAA0B;EAE1B,OAAO;IACLA,IAAI,EAAEf,MAAM,CACV;MACEc,MAAM,EAAAA;KACP,EACDC,IAAI,CACG;IACTC,IAAI,EAAEd,UAAU,CAACe,mBAAmB;IACpCC,SAAS,EAAEjB,YAAY;GACxB;AACH;AAEA,OAAM,SAAUkB,sBAAsBA,CAACC,IAAa;EAClD,IAAMC,IAAI,GAAa,EAAE;EACzB,IAAIC,WAAW,GAAGF,IAAI;EACtB,OAAOE,WAAW,CAACC,UAAU,EAAE;IAC7B,IAAMC,OAAK,GAAGd,KAAK,CAACe,IAAI,CAAEH,WAAW,CAACC,UAA8B,CAACG,QAAQ,CAAC;IAC9E,IAAMC,OAAK,GAAGH,OAAK,CAACI,OAAO,CAACN,WAAW,CAAC;IACxCD,IAAI,CAACQ,OAAO,CAACF,OAAK,CAAC;IACnBL,WAAW,GAAGA,WAAW,CAACC,UAAU;;EAEtC;EACA,IAAI,CAACD,WAAW,CAACQ,gBAAgB,EAAE;IACjC;;EAGF,IAAMC,KAAK,GAAGrB,KAAK,CAACe,IAAI,CAACH,WAAW,CAACQ,gBAAgB,CAACJ,QAAQ,CAAC;EAC/D,IAAMM,KAAK,GAAGD,KAAK,CAACH,OAAO,CAACN,WAAW,CAAC;EACxCD,IAAI,CAACQ,OAAO,CAACG,KAAK,CAAC;EAEnB,OAAOX,IAAI;AACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}