{"ast":null,"code":"import { addEventListeners } from '@datadog/browser-core';\nvar trackFirstHiddenSingleton;\nvar stopListeners;\nexport function trackFirstHidden(eventTarget) {\n  if (eventTarget === void 0) {\n    eventTarget = window;\n  }\n  if (!trackFirstHiddenSingleton) {\n    if (document.visibilityState === 'hidden') {\n      trackFirstHiddenSingleton = {\n        timeStamp: 0\n      };\n    } else {\n      trackFirstHiddenSingleton = {\n        timeStamp: Infinity\n      };\n      stopListeners = addEventListeners(eventTarget, [\"pagehide\" /* PAGE_HIDE */, \"visibilitychange\" /* VISIBILITY_CHANGE */], function (event) {\n        if (event.type === 'pagehide' || document.visibilityState === 'hidden') {\n          trackFirstHiddenSingleton.timeStamp = event.timeStamp;\n          stopListeners();\n        }\n      }, {\n        capture: true\n      }).stop;\n    }\n  }\n  return trackFirstHiddenSingleton;\n}\nexport function resetFirstHidden() {\n  if (stopListeners) {\n    stopListeners();\n  }\n  trackFirstHiddenSingleton = undefined;\n}","map":{"version":3,"names":["addEventListeners","trackFirstHiddenSingleton","stopListeners","trackFirstHidden","eventTarget","window","document","visibilityState","timeStamp","Infinity","event","type","capture","stop","resetFirstHidden","undefined"],"sources":["/Users/sean.dever/Desktop/PersonalRepos/react-app/node_modules/@datadog/browser-rum-core/src/domain/rumEventsCollection/view/trackFirstHidden.ts"],"sourcesContent":["import type { RelativeTime } from '@datadog/browser-core'\nimport { addEventListeners, DOM_EVENT } from '@datadog/browser-core'\n\nlet trackFirstHiddenSingleton: { timeStamp: RelativeTime } | undefined\nlet stopListeners: (() => void) | undefined\n\nexport function trackFirstHidden(eventTarget: EventTarget = window) {\n  if (!trackFirstHiddenSingleton) {\n    if (document.visibilityState === 'hidden') {\n      trackFirstHiddenSingleton = {\n        timeStamp: 0 as RelativeTime,\n      }\n    } else {\n      trackFirstHiddenSingleton = {\n        timeStamp: Infinity as RelativeTime,\n      }\n      ;({ stop: stopListeners } = addEventListeners(\n        eventTarget,\n        [DOM_EVENT.PAGE_HIDE, DOM_EVENT.VISIBILITY_CHANGE],\n        (event) => {\n          if (event.type === 'pagehide' || document.visibilityState === 'hidden') {\n            trackFirstHiddenSingleton!.timeStamp = event.timeStamp as RelativeTime\n            stopListeners!()\n          }\n        },\n        { capture: true }\n      ))\n    }\n  }\n\n  return trackFirstHiddenSingleton\n}\n\nexport function resetFirstHidden() {\n  if (stopListeners) {\n    stopListeners()\n  }\n  trackFirstHiddenSingleton = undefined\n}\n"],"mappings":"AACA,SAASA,iBAAiB,QAAmB,uBAAuB;AAEpE,IAAIC,yBAAkE;AACtE,IAAIC,aAAuC;AAE3C,OAAM,SAAUC,gBAAgBA,CAACC,WAAiC;EAAjC,IAAAA,WAAA;IAAAA,WAAA,GAAAC,MAAiC;EAAA;EAChE,IAAI,CAACJ,yBAAyB,EAAE;IAC9B,IAAIK,QAAQ,CAACC,eAAe,KAAK,QAAQ,EAAE;MACzCN,yBAAyB,GAAG;QAC1BO,SAAS,EAAE;OACZ;KACF,MAAM;MACLP,yBAAyB,GAAG;QAC1BO,SAAS,EAAEC;OACZ;MACSP,aAAa,GAAKF,iBAAiB,CAC3CI,WAAW,EACX,wEAAkD,EAClD,UAACM,KAAK;QACJ,IAAIA,KAAK,CAACC,IAAI,KAAK,UAAU,IAAIL,QAAQ,CAACC,eAAe,KAAK,QAAQ,EAAE;UACtEN,yBAA0B,CAACO,SAAS,GAAGE,KAAK,CAACF,SAAyB;UACtEN,aAAc,EAAE;;MAEpB,CAAC,EACD;QAAEU,OAAO,EAAE;MAAI,CAAE,CAClB,CAAAC,IAVsB;;;EAc3B,OAAOZ,yBAAyB;AAClC;AAEA,OAAM,SAAUa,gBAAgBA,CAAA;EAC9B,IAAIZ,aAAa,EAAE;IACjBA,aAAa,EAAE;;EAEjBD,yBAAyB,GAAGc,SAAS;AACvC"},"metadata":{},"sourceType":"module","externalDependencies":[]}