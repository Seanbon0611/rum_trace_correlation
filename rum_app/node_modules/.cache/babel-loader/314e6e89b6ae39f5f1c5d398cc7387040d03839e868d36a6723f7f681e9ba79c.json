{"ast":null,"code":"import { display } from './display';\nimport { monitor } from './monitor';\nexport var ONE_SECOND = 1000;\nexport var ONE_MINUTE = 60 * ONE_SECOND;\nexport var ONE_HOUR = 60 * ONE_MINUTE;\nexport var ONE_DAY = 24 * ONE_HOUR;\nexport var ONE_YEAR = 365 * ONE_DAY;\nexport var ONE_KIBI_BYTE = 1024;\nexport var ONE_MEBI_BYTE = 1024 * ONE_KIBI_BYTE;\n// use lodash API\nexport function throttle(fn, wait, options) {\n  var needLeadingExecution = options && options.leading !== undefined ? options.leading : true;\n  var needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true;\n  var inWaitPeriod = false;\n  var pendingExecutionWithParameters;\n  var pendingTimeoutId;\n  return {\n    throttled: function () {\n      var parameters = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        parameters[_i] = arguments[_i];\n      }\n      if (inWaitPeriod) {\n        pendingExecutionWithParameters = parameters;\n        return;\n      }\n      if (needLeadingExecution) {\n        fn.apply(void 0, parameters);\n      } else {\n        pendingExecutionWithParameters = parameters;\n      }\n      inWaitPeriod = true;\n      pendingTimeoutId = setTimeout(function () {\n        if (needTrailingExecution && pendingExecutionWithParameters) {\n          fn.apply(void 0, pendingExecutionWithParameters);\n        }\n        inWaitPeriod = false;\n        pendingExecutionWithParameters = undefined;\n      }, wait);\n    },\n    cancel: function () {\n      clearTimeout(pendingTimeoutId);\n      inWaitPeriod = false;\n      pendingExecutionWithParameters = undefined;\n    }\n  };\n}\nexport function assign(target) {\n  var toAssign = [];\n  for (var _i = 1; _i < arguments.length; _i++) {\n    toAssign[_i - 1] = arguments[_i];\n  }\n  toAssign.forEach(function (source) {\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  });\n  return target;\n}\nexport function shallowClone(object) {\n  return assign({}, object);\n}\n/**\n * UUID v4\n * from https://gist.github.com/jed/982883\n */\nexport function generateUUID(placeholder) {\n  return placeholder ?\n  // eslint-disable-next-line  no-bitwise\n  (parseInt(placeholder, 10) ^ Math.random() * 16 >> parseInt(placeholder, 10) / 4).toString(16) : \"\".concat(1e7, \"-\").concat(1e3, \"-\").concat(4e3, \"-\").concat(8e3, \"-\").concat(1e11).replace(/[018]/g, generateUUID);\n}\n/**\n * Return true if the draw is successful\n * @param threshold between 0 and 100\n */\nexport function performDraw(threshold) {\n  return threshold !== 0 && Math.random() * 100 <= threshold;\n}\nexport function round(num, decimals) {\n  return +num.toFixed(decimals);\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n/**\n * Custom implementation of JSON.stringify that ignores some toJSON methods. We need to do that\n * because some sites badly override toJSON on certain objects. Removing all toJSON methods from\n * nested values would be too costly, so we just detach them from the root value, and native classes\n * used to build JSON values (Array and Object).\n *\n * Note: this still assumes that JSON.stringify is correct.\n */\nexport function jsonStringify(value, replacer, space) {\n  if (typeof value !== 'object' || value === null) {\n    return JSON.stringify(value);\n  }\n  // Note: The order matter here. We need to detach toJSON methods on parent classes before their\n  // subclasses.\n  var restoreObjectPrototypeToJson = detachToJsonMethod(Object.prototype);\n  var restoreArrayPrototypeToJson = detachToJsonMethod(Array.prototype);\n  var restoreValuePrototypeToJson = detachToJsonMethod(Object.getPrototypeOf(value));\n  var restoreValueToJson = detachToJsonMethod(value);\n  try {\n    return JSON.stringify(value, replacer, space);\n  } catch (_a) {\n    return '<error: unable to serialize object>';\n  } finally {\n    restoreObjectPrototypeToJson();\n    restoreArrayPrototypeToJson();\n    restoreValuePrototypeToJson();\n    restoreValueToJson();\n  }\n}\nfunction detachToJsonMethod(value) {\n  var object = value;\n  var objectToJson = object.toJSON;\n  if (objectToJson) {\n    delete object.toJSON;\n    return function () {\n      object.toJSON = objectToJson;\n    };\n  }\n  return noop;\n}\nexport function includes(candidate, search) {\n  return candidate.indexOf(search) !== -1;\n}\nexport function arrayFrom(arrayLike) {\n  if (Array.from) {\n    return Array.from(arrayLike);\n  }\n  var array = [];\n  if (arrayLike instanceof Set) {\n    arrayLike.forEach(function (item) {\n      return array.push(item);\n    });\n  } else {\n    for (var i = 0; i < arrayLike.length; i++) {\n      array.push(arrayLike[i]);\n    }\n  }\n  return array;\n}\nexport function find(array, predicate) {\n  for (var i = 0; i < array.length; i += 1) {\n    var item = array[i];\n    if (predicate(item, i)) {\n      return item;\n    }\n  }\n  return undefined;\n}\nexport function findLast(array, predicate) {\n  for (var i = array.length - 1; i >= 0; i -= 1) {\n    var item = array[i];\n    if (predicate(item, i, array)) {\n      return item;\n    }\n  }\n  return undefined;\n}\nexport function isPercentage(value) {\n  return isNumber(value) && value >= 0 && value <= 100;\n}\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\nexport function objectValues(object) {\n  return Object.keys(object).map(function (key) {\n    return object[key];\n  });\n}\nexport function objectHasValue(object, value) {\n  return Object.keys(object).some(function (key) {\n    return object[key] === value;\n  });\n}\nexport function objectEntries(object) {\n  return Object.keys(object).map(function (key) {\n    return [key, object[key]];\n  });\n}\nexport function isEmptyObject(object) {\n  return Object.keys(object).length === 0;\n}\nexport function mapValues(object, fn) {\n  var newObject = {};\n  for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {\n    var key = _a[_i];\n    newObject[key] = fn(object[key]);\n  }\n  return newObject;\n}\nexport function startsWith(candidate, search) {\n  return candidate.slice(0, search.length) === search;\n}\nexport function endsWith(candidate, search) {\n  return candidate.slice(-search.length) === search;\n}\n/**\n * inspired by https://mathiasbynens.be/notes/globalthis\n */\nexport function getGlobalObject() {\n  if (typeof globalThis === 'object') {\n    return globalThis;\n  }\n  Object.defineProperty(Object.prototype, '_dd_temp_', {\n    get: function () {\n      return this;\n    },\n    configurable: true\n  });\n  // @ts-ignore _dd_temp is defined using defineProperty\n  var globalObject = _dd_temp_;\n  // @ts-ignore _dd_temp is defined using defineProperty\n  delete Object.prototype._dd_temp_;\n  if (typeof globalObject !== 'object') {\n    // on safari _dd_temp_ is available on window but not globally\n    // fallback on other browser globals check\n    if (typeof self === 'object') {\n      globalObject = self;\n    } else if (typeof window === 'object') {\n      globalObject = window;\n    } else {\n      globalObject = {};\n    }\n  }\n  return globalObject;\n}\nexport function getLocationOrigin() {\n  return getLinkElementOrigin(window.location);\n}\n/**\n * IE fallback\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/origin\n */\nexport function getLinkElementOrigin(element) {\n  if (element.origin) {\n    return element.origin;\n  }\n  var sanitizedHost = element.host.replace(/(:80|:443)$/, '');\n  return \"\".concat(element.protocol, \"//\").concat(sanitizedHost);\n}\nexport function findCommaSeparatedValue(rawString, name) {\n  var regex = new RegExp(\"(?:^|;)\\\\s*\".concat(name, \"\\\\s*=\\\\s*([^;]+)\"));\n  var matches = regex.exec(rawString);\n  return matches ? matches[1] : undefined;\n}\nexport function safeTruncate(candidate, length, suffix) {\n  if (suffix === void 0) {\n    suffix = '';\n  }\n  var lastChar = candidate.charCodeAt(length - 1);\n  var isLastCharSurrogatePair = lastChar >= 0xd800 && lastChar <= 0xdbff;\n  var correctedLength = isLastCharSurrogatePair ? length + 1 : length;\n  if (candidate.length <= correctedLength) {\n    return candidate;\n  }\n  return \"\".concat(candidate.slice(0, correctedLength)).concat(suffix);\n}\nexport function elementMatches(element, selector) {\n  if (element.matches) {\n    return element.matches(selector);\n  }\n  // IE11 support\n  if (element.msMatchesSelector) {\n    return element.msMatchesSelector(selector);\n  }\n  return false;\n}\n/**\n * Similar to `typeof`, but distinguish plain objects from `null` and arrays\n */\nexport function getType(value) {\n  if (value === null) {\n    return 'null';\n  }\n  if (Array.isArray(value)) {\n    return 'array';\n  }\n  return typeof value;\n}\nfunction createCircularReferenceChecker() {\n  if (typeof WeakSet !== 'undefined') {\n    var set_1 = new WeakSet();\n    return {\n      hasAlreadyBeenSeen: function (value) {\n        var has = set_1.has(value);\n        if (!has) {\n          set_1.add(value);\n        }\n        return has;\n      }\n    };\n  }\n  var array = [];\n  return {\n    hasAlreadyBeenSeen: function (value) {\n      var has = array.indexOf(value) >= 0;\n      if (!has) {\n        array.push(value);\n      }\n      return has;\n    }\n  };\n}\n/**\n * Iterate over source and affect its sub values into destination, recursively.\n * If the source and destination can't be merged, return source.\n */\nexport function mergeInto(destination, source, circularReferenceChecker) {\n  if (circularReferenceChecker === void 0) {\n    circularReferenceChecker = createCircularReferenceChecker();\n  }\n  // ignore the source if it is undefined\n  if (source === undefined) {\n    return destination;\n  }\n  if (typeof source !== 'object' || source === null) {\n    // primitive values - just return source\n    return source;\n  } else if (source instanceof Date) {\n    return new Date(source.getTime());\n  } else if (source instanceof RegExp) {\n    var flags = source.flags ||\n    // old browsers compatibility\n    [source.global ? 'g' : '', source.ignoreCase ? 'i' : '', source.multiline ? 'm' : '', source.sticky ? 'y' : '', source.unicode ? 'u' : ''].join('');\n    return new RegExp(source.source, flags);\n  }\n  if (circularReferenceChecker.hasAlreadyBeenSeen(source)) {\n    // remove circular references\n    return undefined;\n  } else if (Array.isArray(source)) {\n    var merged_1 = Array.isArray(destination) ? destination : [];\n    for (var i = 0; i < source.length; ++i) {\n      merged_1[i] = mergeInto(merged_1[i], source[i], circularReferenceChecker);\n    }\n    return merged_1;\n  }\n  var merged = getType(destination) === 'object' ? destination : {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      merged[key] = mergeInto(merged[key], source[key], circularReferenceChecker);\n    }\n  }\n  return merged;\n}\n/**\n * A simplistic implementation of a deep clone algorithm.\n * Caveats:\n * - It doesn't maintain prototype chains - don't use with instances of custom classes.\n * - It doesn't handle Map and Set\n */\nexport function deepClone(value) {\n  return mergeInto(undefined, value);\n}\nexport function combine() {\n  var sources = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n  var destination;\n  for (var _a = 0, sources_1 = sources; _a < sources_1.length; _a++) {\n    var source = sources_1[_a];\n    // Ignore any undefined or null sources.\n    if (source === undefined || source === null) {\n      continue;\n    }\n    destination = mergeInto(destination, source);\n  }\n  return destination;\n}\nexport function requestIdleCallback(callback, opts) {\n  // Use 'requestIdleCallback' when available: it will throttle the mutation processing if the\n  // browser is busy rendering frames (ex: when frames are below 60fps). When not available, the\n  // fallback on 'requestAnimationFrame' will still ensure the mutations are processed after any\n  // browser rendering process (Layout, Recalculate Style, etc.), so we can serialize DOM nodes\n  // efficiently.\n  if (window.requestIdleCallback) {\n    var id_1 = window.requestIdleCallback(monitor(callback), opts);\n    return function () {\n      return window.cancelIdleCallback(id_1);\n    };\n  }\n  var id = window.requestAnimationFrame(monitor(callback));\n  return function () {\n    return window.cancelAnimationFrame(id);\n  };\n}\nexport function removeDuplicates(array) {\n  var set = new Set();\n  array.forEach(function (item) {\n    return set.add(item);\n  });\n  return arrayFrom(set);\n}\nexport function isMatchOption(item) {\n  var itemType = getType(item);\n  return itemType === 'string' || itemType === 'function' || item instanceof RegExp;\n}\n/**\n * Returns true if value can be matched by at least one of the provided MatchOptions.\n * When comparing strings, setting useStartsWith to true will compare the value with the start of\n * the option, instead of requiring an exact match.\n */\nexport function matchList(list, value, useStartsWith) {\n  if (useStartsWith === void 0) {\n    useStartsWith = false;\n  }\n  return list.some(function (item) {\n    try {\n      if (typeof item === 'function') {\n        return item(value);\n      } else if (item instanceof RegExp) {\n        return item.test(value);\n      } else if (typeof item === 'string') {\n        return useStartsWith ? startsWith(value, item) : item === value;\n      }\n    } catch (e) {\n      display.error(e);\n    }\n    return false;\n  });\n}\n// https://github.com/jquery/jquery/blob/a684e6ba836f7c553968d7d026ed7941e1a612d8/src/selector/escapeSelector.js\nexport function cssEscape(str) {\n  if (window.CSS && window.CSS.escape) {\n    return window.CSS.escape(str);\n  }\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g, function (ch, asCodePoint) {\n    if (asCodePoint) {\n      // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n      if (ch === '\\0') {\n        return '\\uFFFD';\n      }\n      // Control characters and (dependent upon position) numbers get escaped as code points\n      return \"\".concat(ch.slice(0, -1), \"\\\\\").concat(ch.charCodeAt(ch.length - 1).toString(16), \" \");\n    }\n    // Other potentially-special ASCII characters get backslash-escaped\n    return \"\\\\\".concat(ch);\n  });\n}\n// eslint-disable-next-line no-control-regex\nvar HAS_MULTI_BYTES_CHARACTERS = /[^\\u0000-\\u007F]/;\nexport function computeBytesCount(candidate) {\n  // Accurate bytes count computations can degrade performances when there is a lot of events to process\n  if (!HAS_MULTI_BYTES_CHARACTERS.test(candidate)) {\n    return candidate.length;\n  }\n  if (window.TextEncoder !== undefined) {\n    return new TextEncoder().encode(candidate).length;\n  }\n  return new Blob([candidate]).size;\n}\nexport function tryToClone(response) {\n  try {\n    return response.clone();\n  } catch (e) {\n    // clone can throw if the response has already been used by another instrumentation or is disturbed\n    return;\n  }\n}","map":{"version":3,"names":["display","monitor","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_YEAR","ONE_KIBI_BYTE","ONE_MEBI_BYTE","throttle","fn","wait","options","needLeadingExecution","leading","undefined","needTrailingExecution","trailing","inWaitPeriod","pendingExecutionWithParameters","pendingTimeoutId","throttled","parameters","_i","arguments","length","apply","setTimeout","cancel","clearTimeout","assign","target","toAssign","forEach","source","key","Object","prototype","hasOwnProperty","call","shallowClone","object","generateUUID","placeholder","parseInt","Math","random","toString","concat","replace","performDraw","threshold","round","num","decimals","toFixed","noop","jsonStringify","value","replacer","space","JSON","stringify","restoreObjectPrototypeToJson","detachToJsonMethod","restoreArrayPrototypeToJson","Array","restoreValuePrototypeToJson","getPrototypeOf","restoreValueToJson","_a","objectToJson","toJSON","includes","candidate","search","indexOf","arrayFrom","arrayLike","from","array","Set","item","push","i","find","predicate","findLast","isPercentage","isNumber","objectValues","keys","map","objectHasValue","some","objectEntries","isEmptyObject","mapValues","newObject","startsWith","slice","endsWith","getGlobalObject","globalThis","defineProperty","get","configurable","globalObject","_dd_temp_","self","window","getLocationOrigin","getLinkElementOrigin","location","element","origin","sanitizedHost","host","protocol","findCommaSeparatedValue","rawString","name","regex","RegExp","matches","exec","safeTruncate","suffix","lastChar","charCodeAt","isLastCharSurrogatePair","correctedLength","elementMatches","selector","msMatchesSelector","getType","isArray","createCircularReferenceChecker","WeakSet","set_1","hasAlreadyBeenSeen","has","add","mergeInto","destination","circularReferenceChecker","Date","getTime","flags","global","ignoreCase","multiline","sticky","unicode","join","merged_1","merged","deepClone","combine","sources","sources_1","requestIdleCallback","callback","opts","id_1","cancelIdleCallback","id","requestAnimationFrame","cancelAnimationFrame","removeDuplicates","set","isMatchOption","itemType","matchList","list","useStartsWith","test","e","error","cssEscape","str","CSS","escape","ch","asCodePoint","HAS_MULTI_BYTES_CHARACTERS","computeBytesCount","TextEncoder","encode","Blob","size","tryToClone","response","clone"],"sources":["/Users/sean.dever/Desktop/PersonalRepos/apm-enablement-sessions/rum_and_trace_correlation/react-app/node_modules/@datadog/browser-core/src/tools/utils.ts"],"sourcesContent":["import { display } from './display'\nimport { monitor } from './monitor'\n\nexport const ONE_SECOND = 1000\nexport const ONE_MINUTE = 60 * ONE_SECOND\nexport const ONE_HOUR = 60 * ONE_MINUTE\nexport const ONE_DAY = 24 * ONE_HOUR\nexport const ONE_YEAR = 365 * ONE_DAY\nexport const ONE_KIBI_BYTE = 1024\nexport const ONE_MEBI_BYTE = 1024 * ONE_KIBI_BYTE\n\nexport const enum ResourceType {\n  DOCUMENT = 'document',\n  XHR = 'xhr',\n  BEACON = 'beacon',\n  FETCH = 'fetch',\n  CSS = 'css',\n  JS = 'js',\n  IMAGE = 'image',\n  FONT = 'font',\n  MEDIA = 'media',\n  OTHER = 'other',\n}\n\nexport const enum RequestType {\n  FETCH = ResourceType.FETCH,\n  XHR = ResourceType.XHR,\n}\n\n// use lodash API\nexport function throttle<T extends (...args: any[]) => void>(\n  fn: T,\n  wait: number,\n  options?: { leading?: boolean; trailing?: boolean }\n) {\n  const needLeadingExecution = options && options.leading !== undefined ? options.leading : true\n  const needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true\n  let inWaitPeriod = false\n  let pendingExecutionWithParameters: Parameters<T> | undefined\n  let pendingTimeoutId: TimeoutId\n\n  return {\n    throttled: (...parameters: Parameters<T>) => {\n      if (inWaitPeriod) {\n        pendingExecutionWithParameters = parameters\n        return\n      }\n      if (needLeadingExecution) {\n        fn(...parameters)\n      } else {\n        pendingExecutionWithParameters = parameters\n      }\n      inWaitPeriod = true\n      pendingTimeoutId = setTimeout(() => {\n        if (needTrailingExecution && pendingExecutionWithParameters) {\n          fn(...pendingExecutionWithParameters)\n        }\n        inWaitPeriod = false\n        pendingExecutionWithParameters = undefined\n      }, wait)\n    },\n    cancel: () => {\n      clearTimeout(pendingTimeoutId)\n      inWaitPeriod = false\n      pendingExecutionWithParameters = undefined\n    },\n  }\n}\n\ninterface Assignable {\n  [key: string]: any\n}\n\nexport function assign<T, U>(target: T, source: U): T & U\nexport function assign<T, U, V>(target: T, source1: U, source2: V): T & U & V\nexport function assign<T, U, V, W>(target: T, source1: U, source2: V, source3: W): T & U & V & W\nexport function assign(target: Assignable, ...toAssign: Assignable[]) {\n  toAssign.forEach((source: Assignable) => {\n    for (const key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key]\n      }\n    }\n  })\n  return target\n}\n\nexport function shallowClone<T>(object: T): T & Record<string, never> {\n  return assign({}, object)\n}\n\n/**\n * UUID v4\n * from https://gist.github.com/jed/982883\n */\nexport function generateUUID(placeholder?: string): string {\n  return placeholder\n    ? // eslint-disable-next-line  no-bitwise\n      (parseInt(placeholder, 10) ^ ((Math.random() * 16) >> (parseInt(placeholder, 10) / 4))).toString(16)\n    : `${1e7}-${1e3}-${4e3}-${8e3}-${1e11}`.replace(/[018]/g, generateUUID)\n}\n\n/**\n * Return true if the draw is successful\n * @param threshold between 0 and 100\n */\nexport function performDraw(threshold: number): boolean {\n  return threshold !== 0 && Math.random() * 100 <= threshold\n}\n\nexport function round(num: number, decimals: 0 | 1 | 2 | 3 | 4) {\n  return +num.toFixed(decimals)\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n\n/**\n * Custom implementation of JSON.stringify that ignores some toJSON methods. We need to do that\n * because some sites badly override toJSON on certain objects. Removing all toJSON methods from\n * nested values would be too costly, so we just detach them from the root value, and native classes\n * used to build JSON values (Array and Object).\n *\n * Note: this still assumes that JSON.stringify is correct.\n */\nexport function jsonStringify(\n  value: unknown,\n  replacer?: Array<string | number>,\n  space?: string | number\n): string | undefined {\n  if (typeof value !== 'object' || value === null) {\n    return JSON.stringify(value)\n  }\n\n  // Note: The order matter here. We need to detach toJSON methods on parent classes before their\n  // subclasses.\n  const restoreObjectPrototypeToJson = detachToJsonMethod(Object.prototype)\n  const restoreArrayPrototypeToJson = detachToJsonMethod(Array.prototype)\n  const restoreValuePrototypeToJson = detachToJsonMethod(Object.getPrototypeOf(value))\n  const restoreValueToJson = detachToJsonMethod(value)\n\n  try {\n    return JSON.stringify(value, replacer, space)\n  } catch {\n    return '<error: unable to serialize object>'\n  } finally {\n    restoreObjectPrototypeToJson()\n    restoreArrayPrototypeToJson()\n    restoreValuePrototypeToJson()\n    restoreValueToJson()\n  }\n}\n\ninterface ObjectWithToJsonMethod {\n  toJSON: unknown\n}\nfunction detachToJsonMethod(value: object) {\n  const object = value as ObjectWithToJsonMethod\n  const objectToJson = object.toJSON\n  if (objectToJson) {\n    delete object.toJSON\n    return () => {\n      object.toJSON = objectToJson\n    }\n  }\n  return noop\n}\n\nexport function includes(candidate: string, search: string): boolean\nexport function includes<T>(candidate: T[], search: T): boolean\nexport function includes(candidate: string | unknown[], search: any) {\n  return candidate.indexOf(search) !== -1\n}\n\nexport function arrayFrom<T>(arrayLike: ArrayLike<T> | Set<T>): T[] {\n  if (Array.from) {\n    return Array.from(arrayLike)\n  }\n\n  const array = []\n\n  if (arrayLike instanceof Set) {\n    arrayLike.forEach((item) => array.push(item))\n  } else {\n    for (let i = 0; i < arrayLike.length; i++) {\n      array.push(arrayLike[i])\n    }\n  }\n\n  return array\n}\n\nexport function find<T, S extends T>(\n  array: ArrayLike<T>,\n  predicate: (item: T, index: number) => item is S\n): S | undefined\nexport function find<T>(array: ArrayLike<T>, predicate: (item: T, index: number) => boolean): T | undefined\nexport function find(\n  array: ArrayLike<unknown>,\n  predicate: (item: unknown, index: number) => boolean\n): unknown | undefined {\n  for (let i = 0; i < array.length; i += 1) {\n    const item = array[i]\n    if (predicate(item, i)) {\n      return item\n    }\n  }\n  return undefined\n}\n\nexport function findLast<T, S extends T>(\n  array: T[],\n  predicate: (item: T, index: number, array: T[]) => item is S\n): S | undefined {\n  for (let i = array.length - 1; i >= 0; i -= 1) {\n    const item = array[i]\n    if (predicate(item, i, array)) {\n      return item\n    }\n  }\n  return undefined\n}\n\nexport function isPercentage(value: unknown) {\n  return isNumber(value) && value >= 0 && value <= 100\n}\n\nexport function isNumber(value: unknown): value is number {\n  return typeof value === 'number'\n}\n\nexport function objectValues<T = unknown>(object: { [key: string]: T }) {\n  return Object.keys(object).map((key) => object[key])\n}\n\nexport function objectHasValue<T extends { [key: string]: unknown }>(object: T, value: unknown): value is T[keyof T] {\n  return Object.keys(object).some((key) => object[key] === value)\n}\n\nexport function objectEntries(object: { [key: string]: unknown }): Array<[string, unknown]> {\n  return Object.keys(object).map((key) => [key, object[key]])\n}\n\nexport function isEmptyObject(object: object) {\n  return Object.keys(object).length === 0\n}\n\nexport function mapValues<A, B>(object: { [key: string]: A }, fn: (arg: A) => B) {\n  const newObject: { [key: string]: B } = {}\n  for (const key of Object.keys(object)) {\n    newObject[key] = fn(object[key])\n  }\n  return newObject\n}\n\nexport function startsWith(candidate: string, search: string) {\n  return candidate.slice(0, search.length) === search\n}\n\nexport function endsWith(candidate: string, search: string) {\n  return candidate.slice(-search.length) === search\n}\n\n/**\n * inspired by https://mathiasbynens.be/notes/globalthis\n */\nexport function getGlobalObject<T>(): T {\n  if (typeof globalThis === 'object') {\n    return globalThis as unknown as T\n  }\n  Object.defineProperty(Object.prototype, '_dd_temp_', {\n    get() {\n      return this as object\n    },\n    configurable: true,\n  })\n  // @ts-ignore _dd_temp is defined using defineProperty\n  let globalObject: unknown = _dd_temp_\n  // @ts-ignore _dd_temp is defined using defineProperty\n  delete Object.prototype._dd_temp_\n  if (typeof globalObject !== 'object') {\n    // on safari _dd_temp_ is available on window but not globally\n    // fallback on other browser globals check\n    if (typeof self === 'object') {\n      globalObject = self\n    } else if (typeof window === 'object') {\n      globalObject = window\n    } else {\n      globalObject = {}\n    }\n  }\n  return globalObject as T\n}\n\nexport function getLocationOrigin() {\n  return getLinkElementOrigin(window.location)\n}\n\n/**\n * IE fallback\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/origin\n */\nexport function getLinkElementOrigin(element: Location | HTMLAnchorElement | URL) {\n  if (element.origin) {\n    return element.origin\n  }\n  const sanitizedHost = element.host.replace(/(:80|:443)$/, '')\n  return `${element.protocol}//${sanitizedHost}`\n}\n\nexport function findCommaSeparatedValue(rawString: string, name: string) {\n  const regex = new RegExp(`(?:^|;)\\\\s*${name}\\\\s*=\\\\s*([^;]+)`)\n  const matches = regex.exec(rawString)\n  return matches ? matches[1] : undefined\n}\n\nexport function safeTruncate(candidate: string, length: number, suffix = '') {\n  const lastChar = candidate.charCodeAt(length - 1)\n  const isLastCharSurrogatePair = lastChar >= 0xd800 && lastChar <= 0xdbff\n  const correctedLength = isLastCharSurrogatePair ? length + 1 : length\n\n  if (candidate.length <= correctedLength) {\n    return candidate\n  }\n\n  return `${candidate.slice(0, correctedLength)}${suffix}`\n}\n\nexport function elementMatches(element: Element & { msMatchesSelector?(selector: string): boolean }, selector: string) {\n  if (element.matches) {\n    return element.matches(selector)\n  }\n  // IE11 support\n  if (element.msMatchesSelector) {\n    return element.msMatchesSelector(selector)\n  }\n  return false\n}\n\n/**\n * Similar to `typeof`, but distinguish plain objects from `null` and arrays\n */\nexport function getType(value: unknown) {\n  if (value === null) {\n    return 'null'\n  }\n  if (Array.isArray(value)) {\n    return 'array'\n  }\n  return typeof value\n}\n\ntype Merged<TDestination, TSource> =\n  // case 1 - source is undefined - return destination\n  TSource extends undefined\n    ? TDestination\n    : // case 2 - destination is undefined - return source\n    TDestination extends undefined\n    ? TSource\n    : // case 3 - source is an array - see if it merges or overwrites\n    TSource extends any[]\n    ? TDestination extends any[]\n      ? TDestination & TSource\n      : TSource\n    : // case 4 - source is an object - see if it merges or overwrites\n    TSource extends object\n    ? TDestination extends object\n      ? TDestination extends any[]\n        ? TSource\n        : TDestination & TSource\n      : TSource\n    : // case 5 - cannot merge - return source\n      TSource\n\ninterface CircularReferenceChecker {\n  hasAlreadyBeenSeen(value: any): boolean\n}\nfunction createCircularReferenceChecker(): CircularReferenceChecker {\n  if (typeof WeakSet !== 'undefined') {\n    const set: WeakSet<any> = new WeakSet()\n    return {\n      hasAlreadyBeenSeen(value) {\n        const has = set.has(value)\n        if (!has) {\n          set.add(value)\n        }\n        return has\n      },\n    }\n  }\n  const array: any[] = []\n  return {\n    hasAlreadyBeenSeen(value) {\n      const has = array.indexOf(value) >= 0\n      if (!has) {\n        array.push(value)\n      }\n      return has\n    },\n  }\n}\n\n/**\n * Iterate over source and affect its sub values into destination, recursively.\n * If the source and destination can't be merged, return source.\n */\nexport function mergeInto<D, S>(\n  destination: D,\n  source: S,\n  circularReferenceChecker = createCircularReferenceChecker()\n): Merged<D, S> {\n  // ignore the source if it is undefined\n  if (source === undefined) {\n    return destination as Merged<D, S>\n  }\n\n  if (typeof source !== 'object' || source === null) {\n    // primitive values - just return source\n    return source as Merged<D, S>\n  } else if (source instanceof Date) {\n    return new Date(source.getTime()) as unknown as Merged<D, S>\n  } else if (source instanceof RegExp) {\n    const flags =\n      source.flags ||\n      // old browsers compatibility\n      [\n        source.global ? 'g' : '',\n        source.ignoreCase ? 'i' : '',\n        source.multiline ? 'm' : '',\n        source.sticky ? 'y' : '',\n        source.unicode ? 'u' : '',\n      ].join('')\n    return new RegExp(source.source, flags) as unknown as Merged<D, S>\n  }\n\n  if (circularReferenceChecker.hasAlreadyBeenSeen(source)) {\n    // remove circular references\n    return undefined as unknown as Merged<D, S>\n  } else if (Array.isArray(source)) {\n    const merged: any[] = Array.isArray(destination) ? destination : []\n    for (let i = 0; i < source.length; ++i) {\n      merged[i] = mergeInto(merged[i], source[i], circularReferenceChecker)\n    }\n    return merged as unknown as Merged<D, S>\n  }\n\n  const merged: Record<any, any> = getType(destination) === 'object' ? destination : {}\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      merged[key] = mergeInto(merged[key], source[key], circularReferenceChecker)\n    }\n  }\n  return merged as unknown as Merged<D, S>\n}\n\n/**\n * A simplistic implementation of a deep clone algorithm.\n * Caveats:\n * - It doesn't maintain prototype chains - don't use with instances of custom classes.\n * - It doesn't handle Map and Set\n */\nexport function deepClone<T>(value: T): T {\n  return mergeInto(undefined, value) as T\n}\n\ntype Combined<A, B> = A extends null ? B : B extends null ? A : Merged<A, B>\n\n/*\n * Performs a deep merge of objects and arrays.\n * - Arguments won't be mutated\n * - Object and arrays in the output value are dereferenced (\"deep cloned\")\n * - Arrays values are merged index by index\n * - Objects are merged by keys\n * - Values get replaced, unless undefined\n */\nexport function combine<A, B>(a: A, b: B): Combined<A, B>\nexport function combine<A, B, C>(a: A, b: B, c: C): Combined<Combined<A, B>, C>\nexport function combine<A, B, C, D>(a: A, b: B, c: C, d: D): Combined<Combined<Combined<A, B>, C>, D>\nexport function combine<A, B, C, D, E>(\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E\n): Combined<Combined<Combined<Combined<A, B>, C>, D>, E>\nexport function combine<A, B, C, D, E, F>(\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F\n): Combined<Combined<Combined<Combined<Combined<A, B>, C>, D>, E>, F>\nexport function combine<A, B, C, D, E, F, G>(\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n  g: G\n): Combined<Combined<Combined<Combined<Combined<Combined<A, B>, C>, D>, E>, F>, G>\nexport function combine<A, B, C, D, E, F, G, H>(\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n  g: G,\n  h: H\n): Combined<Combined<Combined<Combined<Combined<Combined<Combined<A, B>, C>, D>, E>, F>, G>, H>\nexport function combine(...sources: any[]): unknown {\n  let destination: any\n\n  for (const source of sources) {\n    // Ignore any undefined or null sources.\n    if (source === undefined || source === null) {\n      continue\n    }\n\n    destination = mergeInto(destination, source)\n  }\n\n  return destination as unknown\n}\n\nexport type TimeoutId = ReturnType<typeof setTimeout>\n\nexport function requestIdleCallback(callback: () => void, opts?: { timeout?: number }) {\n  // Use 'requestIdleCallback' when available: it will throttle the mutation processing if the\n  // browser is busy rendering frames (ex: when frames are below 60fps). When not available, the\n  // fallback on 'requestAnimationFrame' will still ensure the mutations are processed after any\n  // browser rendering process (Layout, Recalculate Style, etc.), so we can serialize DOM nodes\n  // efficiently.\n  if (window.requestIdleCallback) {\n    const id = window.requestIdleCallback(monitor(callback), opts)\n    return () => window.cancelIdleCallback(id)\n  }\n  const id = window.requestAnimationFrame(monitor(callback))\n  return () => window.cancelAnimationFrame(id)\n}\n\nexport function removeDuplicates<T>(array: T[]) {\n  const set = new Set<T>()\n  array.forEach((item) => set.add(item))\n  return arrayFrom(set)\n}\n\nexport type MatchOption = string | RegExp | ((value: string) => boolean)\nexport function isMatchOption(item: unknown): item is MatchOption {\n  const itemType = getType(item)\n  return itemType === 'string' || itemType === 'function' || item instanceof RegExp\n}\n/**\n * Returns true if value can be matched by at least one of the provided MatchOptions.\n * When comparing strings, setting useStartsWith to true will compare the value with the start of\n * the option, instead of requiring an exact match.\n */\nexport function matchList(list: MatchOption[], value: string, useStartsWith = false): boolean {\n  return list.some((item) => {\n    try {\n      if (typeof item === 'function') {\n        return item(value)\n      } else if (item instanceof RegExp) {\n        return item.test(value)\n      } else if (typeof item === 'string') {\n        return useStartsWith ? startsWith(value, item) : item === value\n      }\n    } catch (e) {\n      display.error(e)\n    }\n    return false\n  })\n}\n\n// https://github.com/jquery/jquery/blob/a684e6ba836f7c553968d7d026ed7941e1a612d8/src/selector/escapeSelector.js\nexport function cssEscape(str: string) {\n  if (window.CSS && window.CSS.escape) {\n    return window.CSS.escape(str)\n  }\n\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g, function (ch, asCodePoint) {\n    if (asCodePoint) {\n      // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n      if (ch === '\\0') {\n        return '\\uFFFD'\n      }\n      // Control characters and (dependent upon position) numbers get escaped as code points\n      return `${ch.slice(0, -1)}\\\\${ch.charCodeAt(ch.length - 1).toString(16)} `\n    }\n    // Other potentially-special ASCII characters get backslash-escaped\n    return `\\\\${ch}`\n  })\n}\n\n// eslint-disable-next-line no-control-regex\nconst HAS_MULTI_BYTES_CHARACTERS = /[^\\u0000-\\u007F]/\n\nexport function computeBytesCount(candidate: string): number {\n  // Accurate bytes count computations can degrade performances when there is a lot of events to process\n  if (!HAS_MULTI_BYTES_CHARACTERS.test(candidate)) {\n    return candidate.length\n  }\n\n  if (window.TextEncoder !== undefined) {\n    return new TextEncoder().encode(candidate).length\n  }\n\n  return new Blob([candidate]).size\n}\n\nexport function tryToClone(response: Response): Response | undefined {\n  try {\n    return response.clone()\n  } catch (e) {\n    // clone can throw if the response has already been used by another instrumentation or is disturbed\n    return\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}