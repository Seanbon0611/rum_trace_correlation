{"ast":null,"code":"import { isExperimentalFeatureEnabled } from '@datadog/browser-core';\nimport { getViewportDimension, initViewportObservable } from '../../browser/viewportObservable';\nvar viewport;\nvar stopListeners;\nexport function getDisplayContext() {\n  if (!isExperimentalFeatureEnabled('clickmap')) {\n    return;\n  }\n  if (!viewport) {\n    viewport = getViewportDimension();\n    stopListeners = initViewportObservable().subscribe(function (viewportDimension) {\n      viewport = viewportDimension;\n    }).unsubscribe;\n  }\n  return {\n    viewport: viewport\n  };\n}\nexport function resetDisplayContext() {\n  if (stopListeners) {\n    stopListeners();\n  }\n  viewport = undefined;\n}","map":{"version":3,"names":["isExperimentalFeatureEnabled","getViewportDimension","initViewportObservable","viewport","stopListeners","getDisplayContext","subscribe","viewportDimension","unsubscribe","resetDisplayContext","undefined"],"sources":["/Users/sean.dever/Desktop/PersonalRepos/apm-enablement-sessions/rum_and_trace_correlation/react-app/node_modules/@datadog/browser-rum-core/src/domain/contexts/displayContext.ts"],"sourcesContent":["import { isExperimentalFeatureEnabled } from '@datadog/browser-core'\nimport { getViewportDimension, initViewportObservable } from '../../browser/viewportObservable'\n\nlet viewport: { width: number; height: number } | undefined\nlet stopListeners: (() => void) | undefined\n\nexport function getDisplayContext() {\n  if (!isExperimentalFeatureEnabled('clickmap')) {\n    return\n  }\n\n  if (!viewport) {\n    viewport = getViewportDimension()\n    stopListeners = initViewportObservable().subscribe((viewportDimension) => {\n      viewport = viewportDimension\n    }).unsubscribe\n  }\n\n  return {\n    viewport,\n  }\n}\n\nexport function resetDisplayContext() {\n  if (stopListeners) {\n    stopListeners()\n  }\n  viewport = undefined\n}\n"],"mappings":"AAAA,SAASA,4BAA4B,QAAQ,uBAAuB;AACpE,SAASC,oBAAoB,EAAEC,sBAAsB,QAAQ,kCAAkC;AAE/F,IAAIC,QAAuD;AAC3D,IAAIC,aAAuC;AAE3C,OAAM,SAAUC,iBAAiBA,CAAA;EAC/B,IAAI,CAACL,4BAA4B,CAAC,UAAU,CAAC,EAAE;IAC7C;;EAGF,IAAI,CAACG,QAAQ,EAAE;IACbA,QAAQ,GAAGF,oBAAoB,EAAE;IACjCG,aAAa,GAAGF,sBAAsB,EAAE,CAACI,SAAS,CAAC,UAACC,iBAAiB;MACnEJ,QAAQ,GAAGI,iBAAiB;IAC9B,CAAC,CAAC,CAACC,WAAW;;EAGhB,OAAO;IACLL,QAAQ,EAAAA;GACT;AACH;AAEA,OAAM,SAAUM,mBAAmBA,CAAA;EACjC,IAAIL,aAAa,EAAE;IACjBA,aAAa,EAAE;;EAEjBD,QAAQ,GAAGO,SAAS;AACtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}