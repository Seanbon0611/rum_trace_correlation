import type { Configuration, EndpointBuilder } from '@datadog/browser-core/cjs/domain/configuration';
import type { RawError } from '@datadog/browser-core/cjs/tools/error';
import type { Context } from '@datadog/browser-core/cjs/tools/context';
import type { Observable } from '@datadog/browser-core/cjs/tools/observable';
import type { PageExitEvent } from '@datadog/browser-core/cjs/browser/pageExitObservable';
export declare function startBatchWithReplica<T extends Context>(configuration: Configuration, endpoint: EndpointBuilder, reportError: (error: RawError) => void, pageExitObservable: Observable<PageExitEvent>, replicaEndpoint?: EndpointBuilder): {
    add(message: T, replicated?: boolean): void;
};
